INCLUDE_DIRECTORIES (
    ${STAR_EXTERN_INCLUDES}
    fmt
    lua
  )

SET (star_extern_HEADERS
    curve25519/include/curve25519_dh.h
    curve25519/include/ed25519_signature.h
    curve25519/include/external_calls.h
    fmt/core.h
    fmt/format.h
    fmt/format-inl.h
    fmt/ostream.h
    fmt/printf.h
    fmt/ranges.h
    fmt/std.h
    tinyformat.h
    xxhash.h

### Pluto

    lauxlib.h
    luaconf.h
    lua.h
    lua.hpp
    lualib.h
    lua/lapi.h
    lua/lauxlib.h
    lua/lcode.h
    lua/lcryptolib.hpp
    lua/lctype.h
    lua/ldebug.h
    lua/ldo.h
    lua/lerrormessage.hpp
    lua/lfunc.h
    lua/lgc.h
    lua/ljson.hpp
    lua/ljumptabgcc.h
    lua/ljumptab.h
    lua/llex.h
    lua/llimits.h
    lua/lmem.h
    lua/lobject.h
    lua/lopcodes.h
    lua/lopnames.h
    lua/lparser.h
    lua/lprefix.h
    lua/lstate.h
    lua/lstring.h
    lua/lsuggestions.hpp
    lua/ltable.h
    lua/ltm.h
    lua/luaconf.h
    lua/lua.h
    lua/lua.hpp
    lua/lualib.h
    lua/lundump.h
    lua/lvm.h
    lua/lzio.h

### Soup libraries

    lua/vendor/Soup/soup/adler32.hpp
    lua/vendor/Soup/soup/aes.hpp
    lua/vendor/Soup/soup/alloc.hpp
    lua/vendor/Soup/soup/Asn1Element.hpp
    lua/vendor/Soup/soup/Asn1Identifier.hpp
    lua/vendor/Soup/soup/Asn1Sequence.hpp
    lua/vendor/Soup/soup/Asn1Type.hpp
    lua/vendor/Soup/soup/AtomicDeque.hpp
    lua/vendor/Soup/soup/base32.hpp
    lua/vendor/Soup/soup/base64.hpp
    lua/vendor/Soup/soup/base.hpp
    lua/vendor/Soup/soup/Bigint.hpp
    lua/vendor/Soup/soup/bitmask.hpp
    lua/vendor/Soup/soup/Bitset.hpp
    lua/vendor/Soup/soup/bitutil.hpp
    lua/vendor/Soup/soup/branchless.hpp
    lua/vendor/Soup/soup/Buffer.hpp
    lua/vendor/Soup/soup/BufferRefWriter.hpp
    lua/vendor/Soup/soup/BufferWriter.hpp
    lua/vendor/Soup/soup/Callback.hpp
    lua/vendor/Soup/soup/Capture.hpp
    lua/vendor/Soup/soup/cat.hpp
    lua/vendor/Soup/soup/CertStore.hpp
    lua/vendor/Soup/soup/CidrSubnet4.hpp
    lua/vendor/Soup/soup/CidrSubnet6.hpp
    lua/vendor/Soup/soup/CidrSupernet.hpp
    lua/vendor/Soup/soup/CpuInfo.hpp
    lua/vendor/Soup/soup/crc32.hpp
    lua/vendor/Soup/soup/CryptoHashAlgo.hpp
    lua/vendor/Soup/soup/Curve25519.hpp
    lua/vendor/Soup/soup/DefaultRngInterface.hpp
    lua/vendor/Soup/soup/deflate.hpp
    lua/vendor/Soup/soup/DelayedCtor.hpp
    lua/vendor/Soup/soup/deleter.hpp
    lua/vendor/Soup/soup/DetachedScheduler.hpp
    lua/vendor/Soup/soup/dnsClass.hpp
    lua/vendor/Soup/soup/dnsHeader.hpp
    lua/vendor/Soup/soup/dnsHttpResolver.hpp
    lua/vendor/Soup/soup/dnsLookupTask.hpp
    lua/vendor/Soup/soup/dnsName.hpp
    lua/vendor/Soup/soup/dnsQuestion.hpp
    lua/vendor/Soup/soup/dnsRawResolver.hpp
    lua/vendor/Soup/soup/dns_records.hpp
    lua/vendor/Soup/soup/dnsResolver.hpp
    lua/vendor/Soup/soup/dnsResource.hpp
    lua/vendor/Soup/soup/dnsSmartResolver.hpp
    lua/vendor/Soup/soup/dnsType.hpp
    lua/vendor/Soup/soup/dnsUdpResolver.hpp
    lua/vendor/Soup/soup/ecc.hpp
    lua/vendor/Soup/soup/Endian.hpp
    lua/vendor/Soup/soup/Exception.hpp
    lua/vendor/Soup/soup/filesystem.hpp
    lua/vendor/Soup/soup/format.hpp
    lua/vendor/Soup/soup/fwd.hpp
    lua/vendor/Soup/soup/HardwareRng.hpp
    lua/vendor/Soup/soup/HttpRequest.hpp
    lua/vendor/Soup/soup/HttpRequestTask.hpp
    lua/vendor/Soup/soup/HttpResponse.hpp
    lua/vendor/Soup/soup/IntStruct.hpp
    lua/vendor/Soup/soup/IntVector.hpp
    lua/vendor/Soup/soup/ioBase.hpp
    lua/vendor/Soup/soup/IpAddr.hpp
    lua/vendor/Soup/soup/IpGroups.hpp
    lua/vendor/Soup/soup/Ipv6Maths.hpp
    lua/vendor/Soup/soup/IstreamReader.hpp
    lua/vendor/Soup/soup/joaat.hpp
    lua/vendor/Soup/soup/JsonArray.hpp
    lua/vendor/Soup/soup/JsonBool.hpp
    lua/vendor/Soup/soup/JsonFloat.hpp
    lua/vendor/Soup/soup/json.hpp
    lua/vendor/Soup/soup/JsonInt.hpp
    lua/vendor/Soup/soup/JsonNode.hpp
    lua/vendor/Soup/soup/JsonNodeType.hpp
    lua/vendor/Soup/soup/JsonNull.hpp
    lua/vendor/Soup/soup/JsonObject.hpp
    lua/vendor/Soup/soup/JsonString.hpp
    lua/vendor/Soup/soup/LcgRng.hpp
    lua/vendor/Soup/soup/log.hpp
    lua/vendor/Soup/soup/logSink.hpp
    lua/vendor/Soup/soup/logStdSink.hpp
    lua/vendor/Soup/soup/macros.hpp
    lua/vendor/Soup/soup/memory.hpp
    lua/vendor/Soup/soup/MimeMessage.hpp
    lua/vendor/Soup/soup/MimeType.hpp
    lua/vendor/Soup/soup/NamedCurves.hpp
    lua/vendor/Soup/soup/netConfig.hpp
    lua/vendor/Soup/soup/netConnectTask.hpp
    lua/vendor/Soup/soup/netStatus.hpp
    lua/vendor/Soup/soup/ObfusString.hpp
    lua/vendor/Soup/soup/Oid.hpp
    lua/vendor/Soup/soup/Optional.hpp
    lua/vendor/Soup/soup/os.hpp
    lua/vendor/Soup/soup/OstreamWriter.hpp
    lua/vendor/Soup/soup/Packet.hpp
    lua/vendor/Soup/soup/pem.hpp
    lua/vendor/Soup/soup/plusaes.hpp
    lua/vendor/Soup/soup/PoppedNode.hpp
    lua/vendor/Soup/soup/PrimitiveRaii.hpp
    lua/vendor/Soup/soup/Promise.hpp
    lua/vendor/Soup/soup/rand.hpp
    lua/vendor/Soup/soup/Reader.hpp
    lua/vendor/Soup/soup/ReuseTag.hpp
    lua/vendor/Soup/soup/RngInterface.hpp
    lua/vendor/Soup/soup/rsa.hpp
    lua/vendor/Soup/soup/Scheduler.hpp
    lua/vendor/Soup/soup/scoped_enum.hpp
    lua/vendor/Soup/soup/SelfDeletingThread.hpp
    lua/vendor/Soup/soup/Server.hpp
    lua/vendor/Soup/soup/ServerService.hpp
    lua/vendor/Soup/soup/ServerServiceUdp.hpp
    lua/vendor/Soup/soup/sha1.hpp
    lua/vendor/Soup/soup/sha256.hpp
    lua/vendor/Soup/soup/sha384.hpp
    lua/vendor/Soup/soup/sha512.hpp
    lua/vendor/Soup/soup/SharedPtr.hpp
    lua/vendor/Soup/soup/ShortString.hpp
    lua/vendor/Soup/soup/signal.hpp
    lua/vendor/Soup/soup/SocketAddr.hpp
    lua/vendor/Soup/soup/Socket.hpp
    lua/vendor/Soup/soup/SocketTlsEncrypter.hpp
    lua/vendor/Soup/soup/SocketTlsHandshaker.hpp
    lua/vendor/Soup/soup/spaceship.hpp
    lua/vendor/Soup/soup/StringBuilder.hpp
    lua/vendor/Soup/soup/string.hpp
    lua/vendor/Soup/soup/stringifyable.hpp
    lua/vendor/Soup/soup/StringLiteral.hpp
    lua/vendor/Soup/soup/StringReader.hpp
    lua/vendor/Soup/soup/StringRefReader.hpp
    lua/vendor/Soup/soup/StringRefWriter.hpp
    lua/vendor/Soup/soup/StringWriter.hpp
    lua/vendor/Soup/soup/StructMap.hpp
    lua/vendor/Soup/soup/Task.hpp
    lua/vendor/Soup/soup/Thread.hpp
    lua/vendor/Soup/soup/time.hpp
    lua/vendor/Soup/soup/TlsAlertDescription.hpp
    lua/vendor/Soup/soup/TlsCertificate.hpp
    lua/vendor/Soup/soup/TlsCipherSuite.hpp
    lua/vendor/Soup/soup/TlsClientHelloExtEllipticCurves.hpp
    lua/vendor/Soup/soup/TlsClientHelloExtServerName.hpp
    lua/vendor/Soup/soup/TlsClientHello.hpp
    lua/vendor/Soup/soup/TlsContentType.hpp
    lua/vendor/Soup/soup/TlsEncryptedPreMasterSecret.hpp
    lua/vendor/Soup/soup/TlsExtensionType.hpp
    lua/vendor/Soup/soup/TlsHandshake.hpp
    lua/vendor/Soup/soup/TlsHelloExtensions.hpp
    lua/vendor/Soup/soup/TlsMac.hpp
    lua/vendor/Soup/soup/TlsProtocolVersion.hpp
    lua/vendor/Soup/soup/TlsRandom.hpp
    lua/vendor/Soup/soup/TlsRecord.hpp
    lua/vendor/Soup/soup/TlsServerHello.hpp
    lua/vendor/Soup/soup/TlsServerKeyExchange.hpp
    lua/vendor/Soup/soup/TlsSignatureScheme.hpp
    lua/vendor/Soup/soup/TransientToken.hpp
    lua/vendor/Soup/soup/TrustStore.hpp
    lua/vendor/Soup/soup/type.hpp
    lua/vendor/Soup/soup/type_traits.hpp
    lua/vendor/Soup/soup/unicode.hpp
    lua/vendor/Soup/soup/UniquePtr.hpp
    lua/vendor/Soup/soup/Uri.hpp
    lua/vendor/Soup/soup/urlenc.hpp
    lua/vendor/Soup/soup/version_compare.hpp
    lua/vendor/Soup/soup/WeakRef.hpp
    lua/vendor/Soup/soup/Worker.hpp
    lua/vendor/Soup/soup/Writer.hpp
    lua/vendor/Soup/soup/X509Certchain.hpp
    lua/vendor/Soup/soup/X509Certificate.hpp
    lua/vendor/Soup/soup/X509RelativeDistinguishedName.hpp
    lua/vendor/Soup/soup/xml.hpp
  )

SET (star_extern_SOURCES
    curve25519/source/sha512.c
    curve25519/source/curve25519_dh.c
    curve25519/source/curve25519_mehdi.c
    curve25519/source/curve25519_order.c
    curve25519/source/curve25519_utils.c
    curve25519/source/custom_blind.c
    curve25519/source/ed25519_sign.c
    curve25519/source/ed25519_verify.c
    xxhash.c
    fmt/format.cc

### Pluto

    lua/lapi.cpp
    lua/lassertlib.cpp
    lua/lauxlib.cpp
    lua/lbase32.cpp
    lua/lbase64.cpp
    lua/lbaselib.cpp
    lua/lbigint.cpp
    lua/lcatlib.cpp
    lua/lcode.cpp
    lua/lcorolib.cpp
    lua/lcryptolib.cpp
    lua/lctype.cpp
    lua/ldblib.cpp
    lua/ldebug.cpp
    lua/ldo.cpp
    lua/ldump.cpp
    lua/lfunc.cpp
    lua/lgc.cpp
    lua/lhttplib.cpp
    lua/linit.cpp
    lua/liolib.cpp
    lua/ljson.cpp
    lua/llex.cpp
    lua/lmathlib.cpp
    lua/lmem.cpp
    lua/loadlib.cpp
    lua/lobject.cpp
    lua/lopcodes.cpp
    lua/loslib.cpp
    lua/lparser.cpp
    lua/lschedulerlib.cpp
    lua/lsocketlib.cpp
    lua/lstarlib.cpp
    lua/lstate.cpp
    lua/lstring.cpp
    lua/lstrlib.cpp
    lua/ltable.cpp
    lua/ltablib.cpp
    lua/ltm.cpp
    lua/lundump.cpp
    lua/lurllib.cpp
    lua/lutf8lib.cpp
    lua/lvector3lib.cpp
    lua/lvm.cpp
    lua/lxml.cpp
    lua/lzio.cpp

### Soup libraries

    lua/vendor/Soup/soup/adler32.cpp
    lua/vendor/Soup/soup/aes.cpp
    lua/vendor/Soup/soup/alloc.cpp
    lua/vendor/Soup/soup/Asn1Identifier.cpp
    lua/vendor/Soup/soup/Asn1Sequence.cpp
    lua/vendor/Soup/soup/base32.cpp
    lua/vendor/Soup/soup/base64.cpp
    lua/vendor/Soup/soup/base.cpp
    lua/vendor/Soup/soup/Bigint.cpp
    lua/vendor/Soup/soup/Capture.cpp
    lua/vendor/Soup/soup/cat.cpp
    lua/vendor/Soup/soup/CpuInfo.cpp
    lua/vendor/Soup/soup/crc32.cpp
    lua/vendor/Soup/soup/Curve25519.cpp
    lua/vendor/Soup/soup/DefaultRngInterface.cpp
    lua/vendor/Soup/soup/deflate.cpp
    lua/vendor/Soup/soup/DetachedScheduler.cpp
    lua/vendor/Soup/soup/dnsHttpResolver.cpp
    lua/vendor/Soup/soup/dnsName.cpp
    lua/vendor/Soup/soup/dnsRawResolver.cpp
    lua/vendor/Soup/soup/dns_records.cpp
    lua/vendor/Soup/soup/dnsResolver.cpp
    lua/vendor/Soup/soup/dnsSmartResolver.cpp
    lua/vendor/Soup/soup/dnsUdpResolver.cpp
    lua/vendor/Soup/soup/ecc.cpp
    lua/vendor/Soup/soup/filesystem.cpp
    lua/vendor/Soup/soup/HardwareRng.cpp
    lua/vendor/Soup/soup/HttpRequest.cpp
    lua/vendor/Soup/soup/HttpRequestTask.cpp
    lua/vendor/Soup/soup/IpAddr.cpp
    lua/vendor/Soup/soup/joaat.cpp
    lua/vendor/Soup/soup/JsonArray.cpp
    lua/vendor/Soup/soup/JsonBool.cpp
    lua/vendor/Soup/soup/json.cpp
    lua/vendor/Soup/soup/JsonFloat.cpp
    lua/vendor/Soup/soup/JsonInt.cpp
    lua/vendor/Soup/soup/JsonNode.cpp
    lua/vendor/Soup/soup/JsonNull.cpp
    lua/vendor/Soup/soup/JsonObject.cpp
    lua/vendor/Soup/soup/JsonString.cpp
    lua/vendor/Soup/soup/log.cpp
    lua/vendor/Soup/soup/MimeMessage.cpp
    lua/vendor/Soup/soup/netConfig.cpp
    lua/vendor/Soup/soup/netConnectTask.cpp
    lua/vendor/Soup/soup/netStatus.cpp
    lua/vendor/Soup/soup/Oid.cpp
    lua/vendor/Soup/soup/os.cpp
    lua/vendor/Soup/soup/pem.cpp
    lua/vendor/Soup/soup/Promise.cpp
    lua/vendor/Soup/soup/rand.cpp
    lua/vendor/Soup/soup/Reader.cpp
    lua/vendor/Soup/soup/rsa.cpp
    lua/vendor/Soup/soup/Scheduler.cpp
    lua/vendor/Soup/soup/SelfDeletingThread.cpp
    lua/vendor/Soup/soup/Server.cpp
    lua/vendor/Soup/soup/sha1.cpp
    lua/vendor/Soup/soup/sha256.cpp
    lua/vendor/Soup/soup/sha384.cpp
    lua/vendor/Soup/soup/sha512.cpp
    lua/vendor/Soup/soup/Socket.cpp
    lua/vendor/Soup/soup/SocketTlsEncrypter.cpp
    lua/vendor/Soup/soup/SocketTlsHandshaker.cpp
    lua/vendor/Soup/soup/spaceship.cpp
    lua/vendor/Soup/soup/string.cpp
    lua/vendor/Soup/soup/Task.cpp
    lua/vendor/Soup/soup/Thread.cpp
    lua/vendor/Soup/soup/time.cpp
    lua/vendor/Soup/soup/TrustStore.cpp
    lua/vendor/Soup/soup/unicode.cpp
    lua/vendor/Soup/soup/Uri.cpp
    lua/vendor/Soup/soup/urlenc.cpp
    lua/vendor/Soup/soup/version_compare.cpp
    lua/vendor/Soup/soup/Worker.cpp
    lua/vendor/Soup/soup/Writer.cpp
    lua/vendor/Soup/soup/X509Certchain.cpp
    lua/vendor/Soup/soup/X509Certificate.cpp
    lua/vendor/Soup/soup/X509RelativeDistinguishedName.cpp
    lua/vendor/Soup/soup/xml.cpp
  )

ADD_LIBRARY (star_extern OBJECT ${star_extern_SOURCES} ${star_extern_HEADERS})